<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">
<head th:insert="fragments/general.html :: header"></head>



<style>
 
/*  table { */
/*   counter-reset: rowNumber; */
/* } */

/* table tr::before { */
/*   display: table-cell; */
/*   counter-increment: rowNumber; */
/*   content: counter(rowNumber) "."; */
/*   padding-right: 0.3em; */
/*   text-align: right; */
/* } */

 </style>
 
<body>
	
	

	
	<nav th:insert="fragments/general.html :: nav"> </nav>
	
	

	<h1 class="text-center my-2">TV Shows</h1>
	<h2 class="text-center my-2" th:text="${email}">TV Shows</h2>
	
<div class="container">
		<table class="table table-responsible table-dark table-striped">
			<thead>
				<tr>
					<th scope="col">#</th>
					<th scope="col">Title</th>
					<th scope="col">Network</th>
					<th scope="col">Options</th>
				</tr>
			</thead>
			<tbody>
				<tr th:each="var:${showsList}">
					<td th:text="${varStat.index}"></td>
					<td th:text="${var.showTitle}"></td>
					<td th:text="${var.showNetwork}"></td>
					<td><a th:text="Edit" class="btn btn-primary btn-sm" role="button" th:href="@{/show/editShow/(idShow=${var.id})}"></a>
					<a th:text="Rate" class="btn btn-primary btn-sm" role="button" th:href="@{/show/ratingShow/(idShow=${var.id})}"></a>
					<button class="btn btn-danger btn-sm"th:text="Delete"
					th:object="${show}"  th:onclick="'javascript:deleteShow(\''+ ${var.id} +'\');'"></button></td>
					
				<!--	<td><button type="button" class="btn btn-primary">VER</button></td> -->
				</tr>
			</tbody>
		</table>
	</div>
	
	
	
<script>
function deleteShow(id) {
	let isExecuted = confirm("Nooo, a lo bien lo vas a borrar?");

	if(isExecuted){
		window.location.href = "/show/deleteShow/?idShow="+id;
	}
	else{
		return;
	}
	}
</script>	

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2" crossorigin="anonymous"></script>
  
</body>
</html>